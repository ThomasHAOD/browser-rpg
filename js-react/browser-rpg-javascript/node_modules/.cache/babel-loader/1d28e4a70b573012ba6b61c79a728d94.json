{"ast":null,"code":"import _slicedToArray from \"/Users/user/codeclan_work/Projects/browser-rpg/js-react/browser-rpg-javascript/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/user/codeclan_work/Projects/browser-rpg/js-react/browser-rpg-javascript/src/Containers/BattleContainer.js\";\nimport React, { Fragment, useState } from \"react\";\nimport PlayerBattleSprite from \"../Components/BattleComponents/PlayerBattleSprite\";\nimport EnemyBattleSprite from \"../Components/BattleComponents/EnemyBattleSprite\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./BattleContainer.css\";\nimport battle from '../sounds/battle.mp3';\n\nconst BattleContainer = ({\n  currentPlayer,\n  currentCharacter,\n  currentEnemy,\n  playerAttacksEnemy,\n  enemyAttacksPlayer,\n  playerDefends,\n  resetEnemy,\n  accumulateScore,\n  setCurrentHPCharacter\n}) => {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        playerTurn = _useState2[0],\n        setPlayerTurn = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        enemyDamaged = _useState4[0],\n        setEnemyDamaged = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        playerDamaged = _useState6[0],\n        setPlayerDamaged = _useState6[1];\n\n  if (!currentPlayer.id || !currentCharacter) {\n    return React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    });\n  }\n\n  if (currentEnemy.alive === false) {\n    console.log(currentEnemy.currentHP);\n    resetEnemy();\n    accumulateScore();\n    return React.createElement(Redirect, {\n      to: \"/endgame\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    });\n  }\n\n  if (currentCharacter.alive === false) {\n    console.log(currentCharacter.currentHP);\n    setCurrentHPCharacter();\n    resetEnemy();\n    return React.createElement(Redirect, {\n      to: \"/endgame\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    });\n  }\n\n  function attack() {\n    setEnemyDamaged(true);\n    setTimeout(() => {\n      setEnemyDamaged(false);\n      playerAttacksEnemy();\n      if (currentEnemy.currentHP - currentPlayer.power <= 0) return;\n      setPlayerDamaged(true);\n      setTimeout(() => {\n        setPlayerDamaged(false);\n        enemyAttacksPlayer();\n      }, 3000);\n    }, 3000);\n  }\n\n  function defend() {\n    setEnemyDamaged(true);\n    setTimeout(() => {\n      setEnemyDamaged(false);\n      playerDefends();\n      setPlayerDamaged(true);\n      setTimeout(() => {\n        setPlayerDamaged(false);\n        enemyAttacksPlayer();\n      }, 3000);\n    }, 3000);\n  }\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"battle-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"audio\", {\n    src: battle,\n    autoPlay: true,\n    loop: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"FIGHT!\"), React.createElement(PlayerBattleSprite, {\n    currentCharacter: currentCharacter,\n    damage: playerDamaged,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(EnemyBattleSprite, {\n    hp: currentEnemy,\n    damage: enemyDamaged,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    id: \"attack\",\n    onClick: attack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Attack!\"), React.createElement(\"button\", {\n    id: \"defend\",\n    onClick: defend,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Defend!\")));\n};\n\nexport default BattleContainer;","map":{"version":3,"sources":["/Users/user/codeclan_work/Projects/browser-rpg/js-react/browser-rpg-javascript/src/Containers/BattleContainer.js"],"names":["React","Fragment","useState","PlayerBattleSprite","EnemyBattleSprite","Redirect","battle","BattleContainer","currentPlayer","currentCharacter","currentEnemy","playerAttacksEnemy","enemyAttacksPlayer","playerDefends","resetEnemy","accumulateScore","setCurrentHPCharacter","playerTurn","setPlayerTurn","enemyDamaged","setEnemyDamaged","playerDamaged","setPlayerDamaged","id","alive","console","log","currentHP","attack","setTimeout","power","defend"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport PlayerBattleSprite from \"../Components/BattleComponents/PlayerBattleSprite\";\nimport EnemyBattleSprite from \"../Components/BattleComponents/EnemyBattleSprite\";\n\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./BattleContainer.css\";\nimport battle from '../sounds/battle.mp3'\n\nconst BattleContainer = ({\n\tcurrentPlayer,\n\tcurrentCharacter,\n\tcurrentEnemy,\n\tplayerAttacksEnemy,\n\tenemyAttacksPlayer,\n\tplayerDefends,\n\tresetEnemy,\n    accumulateScore,\n    setCurrentHPCharacter\n}) => {\n\tconst [playerTurn, setPlayerTurn] = useState(true);\n\tconst [enemyDamaged, setEnemyDamaged] = useState(false);\n\tconst [playerDamaged, setPlayerDamaged] = useState(false);\n\n\tif (!currentPlayer.id || !currentCharacter) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\tif (currentEnemy.alive === false) {\n\t\tconsole.log(currentEnemy.currentHP);\n\t\tresetEnemy();\n\t\taccumulateScore();\n\t\treturn <Redirect to=\"/endgame\" />;\n\t}\n\n\tif (currentCharacter.alive === false) {\n        console.log(currentCharacter.currentHP);\n        setCurrentHPCharacter();\n\t\tresetEnemy();\n\t\treturn <Redirect to=\"/endgame\" />;\n\t}\n\n\tfunction attack() {\n\t\tsetEnemyDamaged(true);\n\t\tsetTimeout(() => {\n\t\t\tsetEnemyDamaged(false);\n\t\t\tplayerAttacksEnemy();\n\t\t\tif(currentEnemy.currentHP - currentPlayer.power <=0) return\n\t\t\tsetPlayerDamaged(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetPlayerDamaged(false);\n\t\t\t\tenemyAttacksPlayer();\n\t\t\t}, 3000);\n\t\t}, 3000);\n\t}\n\n\tfunction defend() {\n\t\tsetEnemyDamaged(true);\n\t\tsetTimeout(() => {\n\t\t\tsetEnemyDamaged(false);\n\t\t\tplayerDefends();\n\t\t\tsetPlayerDamaged(true);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetPlayerDamaged(false);\n\t\t\t\tenemyAttacksPlayer();\n\t\t\t}, 3000);\n\t\t}, 3000);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div id=\"battle-container\">\n                <audio src={battle} autoPlay loop={true}/>\n\t\t\t\t<h1>FIGHT!</h1>\n\t\t\t\t<PlayerBattleSprite\n\t\t\t\t\tcurrentCharacter={currentCharacter}\n\t\t\t\t\tdamage={playerDamaged}\n\t\t\t\t/>\n\t\t\t\t<EnemyBattleSprite hp={currentEnemy} damage={enemyDamaged} />\n\t\t\t\t<button id=\"attack\" onClick={attack}>\n\t\t\t\t\tAttack!\n\t\t\t\t</button>\n\t\t\t\t<button id=\"defend\" onClick={defend}>\n\t\t\t\t\tDefend!\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n\nexport default BattleContainer;\n"]},"metadata":{},"sourceType":"module"}